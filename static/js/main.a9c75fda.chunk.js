(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{10:function(e,t,r){e.exports={burger_constructor__main_list:"burger-constructor_burger_constructor__main_list__E__kw",burger_constructor__main_list_item:"burger-constructor_burger_constructor__main_list_item__1lDC3",burger_constructor__draggable_list:"burger-constructor_burger_constructor__draggable_list__2oMLz",burger_constructor__draggable_list_item:"burger-constructor_burger_constructor__draggable_list_item__3IoEM",burger_constructor__order_details:"burger-constructor_burger_constructor__order_details__3ahtJ"}},11:function(e,t,r){e.exports={ingredient__container:"ingredient-details_ingredient__container__8HJfc",ingredient__img:"ingredient-details_ingredient__img__27Lmf",ingredient__info:"ingredient-details_ingredient__info__2yiSb",ingredient__element:"ingredient-details_ingredient__element__3G2NB"}},15:function(e,t,r){e.exports={appheader:"app-header_appheader__3TnN2",appheader__menu_list:"app-header_appheader__menu_list__3LK_X",appheader__menu_item_left:"app-header_appheader__menu_item_left__1F4IX",appheader__menu_item_center:"app-header_appheader__menu_item_center__hKKRx",appheader__menu_item_right:"app-header_appheader__menu_item_right__rTD0n"}},151:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),a=r(23),c=r.n(a),s=(r(72),r(18)),_=r(14),l=r(24),d=r.n(l);var o=r(15),m=r.n(o),u=r(25),j=r.n(u),b=r(0);function p(e){return Object(b.jsx)("div",{className:"pl-5 pr-5 pt-4 pb-4 mt-4 mb-4 mr-2",children:Object(b.jsxs)("div",{className:j.a.menu_item__link,children:[Object(b.jsx)("div",{className:"mr-2",children:e.icon}),Object(b.jsx)("a",{className:e.active?j.a.menu_item__link_style_active:j.a.menu_item__link_style_unactive,href:e.link,title:e.text,children:Object(b.jsx)("p",{className:"text text_type_main-default",children:e.text})})]})})}var g=r(4);function x(){return Object(b.jsx)("header",{children:Object(b.jsx)("nav",{className:m.a.appheader,children:Object(b.jsxs)("ul",{className:m.a.appheader__menu_list,children:[Object(b.jsx)("li",{className:m.a.appheader__menu_item_left,children:Object(b.jsx)(p,{icon:Object(b.jsx)(g.BurgerIcon,{type:"primary"}),text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",link:"#1",active:!0})}),Object(b.jsx)("li",{className:m.a.appheader__menu_item_left,children:Object(b.jsx)(p,{icon:Object(b.jsx)(g.ListIcon,{type:"secondary"}),text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",link:"#2"})}),Object(b.jsx)("li",{className:m.a.appheader__menu_item_center,children:Object(b.jsx)(g.Logo,{})}),Object(b.jsx)("li",{className:m.a.appheader__menu_item_right,children:Object(b.jsx)(p,{icon:Object(b.jsx)(g.ProfileIcon,{type:"secondary"}),text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",link:"#3"})})]})})})}var h=r(6),O=r.n(h),f=(O.a.shape({name:O.a.string.isRequired,price:O.a.number.isRequired,image:O.a.string.isRequired,value:O.a.number.isRequired,__v:O.a.number.isRequired,_id:O.a.string.isRequired}),r(10)),v=r.n(f);function y(e){var t=e.openModal,r=e.items,n=r.find((function(e){return"bun"===e.type})),i=r.filter((function(e){return"bun"!==e.type})),a=n?2*n.price:0,c=i?i.reduce((function(e,t){return e+t.price}),0):0;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("ul",{className:v.a.burger_constructor__main_list,children:[n&&Object(b.jsx)("li",{className:v.a.burger_constructor__main_list_item,children:Object(b.jsx)(g.ConstructorElement,{type:"top",isLocked:!0,text:n.name+" (\u0432\u0435\u0440\u0445)",thumbnail:n.image,price:n.price})},"top_bun"),Object(b.jsx)("li",{className:v.a.burger_constructor__main_list_item,children:i&&Object(b.jsx)("ul",{className:v.a.burger_constructor__draggable_list,children:i.map((function(e,t){return Object(b.jsxs)("li",{className:v.a.burger_constructor__draggable_list_item,children:[Object(b.jsx)(g.DragIcon,{type:"primary"}),Object(b.jsx)(g.ConstructorElement,{text:e.name,thumbnail:e.image,price:e.price})]},e._id+"_"+t)}))},"middle_items")}),n&&Object(b.jsx)("li",{className:v.a.burger_constructor__main_list_item,children:Object(b.jsx)(g.ConstructorElement,{isLocked:!0,type:"bottom",text:n.name+" (\u043d\u0438\u0437)",thumbnail:n.image,price:n.price})},"bottom_bun")]}),Object(b.jsxs)("div",{className:v.a.burger_constructor__order_details,children:[Object(b.jsx)("p",{className:"text text_type_digits-medium",children:a+c}),Object(b.jsx)("span",{className:"ml-2 mr-10",children:Object(b.jsx)(g.CurrencyIcon,{type:"primary"})}),Object(b.jsx)(g.Button,{type:"primary",size:"medium",onClick:function(){t({modalType:"orderDetail"})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})}var N=r(45),k=r.n(N),C=r(66),M=r.n(C),I=r(26),E=r.n(I);function R(e){var t=e.name,r=e.id,n=e.image,i=e.price,a=e.value,c=e.openModal;return Object(b.jsxs)("li",{className:E.a.burgeringredients_card,onClick:function(){c({modalType:"ingredientDetail",itemId:r})},children:[a?Object(b.jsx)(g.Counter,{count:a}):null,Object(b.jsx)("img",{src:n,alt:t,title:t,className:"ml-4 mr-4"}),Object(b.jsxs)("div",{className:E.a.burgeringredients_card__ingredient_price,children:[Object(b.jsx)("p",{className:"pr-2 text text_type_digits-default",children:i}),Object(b.jsx)(g.CurrencyIcon,{})]}),Object(b.jsx)("p",{className:E.a.burgeringredients_card__ingredient_name+" text text_type_main-default",children:t})]})}var q=i.a.forwardRef((function(e,t){var r=e.heading,n=e.items,i=e.openModal;return Object(b.jsxs)("section",{ref:t,children:[Object(b.jsx)("h2",{className:"text text_type_main-medium mt-10 mb-6",children:r}),Object(b.jsx)("ul",{className:M.a.burger_ingredients_list+" ml-4 mt-6 mr-2 mb-10",children:n.map((function(e){return Object(b.jsx)(R,{openModal:i,name:e.name,id:e._id,price:e.price,image:e.image,value:e.__v},e._id)}))})]})}));function L(e){var t=e.openModal,r=e.items,n=i.a.useState("bun"),a=Object(_.a)(n,2),c=a[0],s=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text text_type_main-large mt-10",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(b.jsxs)("div",{className:k.a.burgeringredients__tab_selector,children:[Object(b.jsx)(g.Tab,{value:"bun",active:"bun"===c,onClick:s,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(b.jsx)(g.Tab,{value:"sauce",active:"sauce"===c,onClick:s,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(b.jsx)(g.Tab,{value:"main",active:"main"===c,onClick:s,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(b.jsxs)("div",{className:k.a.burgeringredients__scroll_container,children:[Object(b.jsx)(q,{heading:"\u0411\u0443\u043b\u043a\u0438",openModal:t,items:r.filter((function(e){return"bun"===e.type}))}),Object(b.jsx)(q,{heading:"\u0421\u043e\u0443\u0441\u044b",openModal:t,items:r.filter((function(e){return"sauce"===e.type}))}),Object(b.jsx)(q,{heading:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",openModal:t,items:r.filter((function(e){return"main"===e.type}))})]})]})}var T=r.p+"static/media/done.fd977731.svg",w=r(27),B=r.n(w);function S(){return Object(b.jsxs)("div",{className:"".concat(B.a.order__container," pt-30 pb-25"),children:[Object(b.jsx)("div",{className:"mb-8",children:Object(b.jsx)("p",{className:"".concat(B.a.order__digitdecor," text text_type_digits-large"),children:"034536"})}),Object(b.jsx)("p",{className:"text text_type_main-medium",children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(b.jsx)("img",{className:"".concat(B.a.order__img," mb-15 mt-15"),alt:"\u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",src:T}),Object(b.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(b.jsx)("div",{className:"mt-2",children:Object(b.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})})]})}var D=r(11),K=r.n(D);var F=function(e){var t=e.name,r=e.image,n=e.calories,i=e.fat,a=e.proteins,c=e.carbohydrates;return Object(b.jsxs)("div",{className:"".concat(K.a.ingredient__container," p-10"),children:[Object(b.jsx)("p",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(b.jsx)("img",{className:"".concat(K.a.ingredient__img),alt:"\u0432\u0430\u0448 \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442",src:r}),Object(b.jsx)("p",{className:"text text_type_main-medium",children:t}),Object(b.jsxs)("div",{className:"".concat(K.a.ingredient__info," mt-8 text_color_inactive"),children:[Object(b.jsxs)("div",{className:"".concat(K.a.ingredient__element," mr-5"),children:[Object(b.jsx)("p",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(b.jsx)("p",{className:"text text_type_digits-default",children:n})]}),Object(b.jsxs)("div",{className:"".concat(K.a.ingredient__element," mr-5"),children:[Object(b.jsx)("p",{className:"text text_type_main-default",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(b.jsx)("p",{className:"text text_type_digits-default",children:a})]}),Object(b.jsxs)("div",{className:"".concat(K.a.ingredient__element," mr-5"),children:[Object(b.jsx)("p",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(b.jsx)("p",{className:"text text_type_digits-default",children:i})]}),Object(b.jsxs)("div",{className:"".concat(K.a.ingredient__element," mr-5"),children:[Object(b.jsx)("p",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(b.jsx)("p",{className:"text text_type_digits-default",children:c})]})]})]})},J=r(46),G=r.n(J),P=r(67),H=r.n(P),z=function(e){var t=e.children,r=e.onClick;return Object(b.jsx)("div",{className:H.a.overlay,onClick:r,children:t})},U=(O.a.shape({onClick:O.a.func.isRequired,children:O.a.element.isRequired}),function(e){var t=e.closeModal,r=e.children;return i.a.useEffect((function(){var e=function(e){"Escape"===e.key&&t()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t]),Object(a.createPortal)(Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(z,{onClick:t,children:Object(b.jsxs)("div",{className:G.a.modal__space,children:[Object(b.jsx)("div",{className:G.a.modal__close_icon,children:Object(b.jsx)(g.CloseIcon,{type:"primary",onClick:t})}),r]})})}),document.getElementById("modal-root"))});O.a.shape({closeModal:O.a.func.isRequired,children:O.a.element.isRequired});function X(){var e=i.a.useState({isLoading:!1,hasError:!1,error:"",data:[]}),t=Object(_.a)(e,2),r=t[0],n=t[1];i.a.useEffect((function(){fetch("".concat("https://norma.nomoreparties.space/api/ingredients")).then((function(e){return function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," - ").concat(e.statusText))}(e)})).then((function(e){n((function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!0,data:e.data})}))}),(function(e){n((function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!0,hasError:!0,error:e})}))}))}),[]);var a=i.a.useState(!1),c=Object(_.a)(a,2),l=c[0],o=c[1],m=i.a.useState(!1),u=Object(_.a)(m,2),j=u[0],p=u[1],g=i.a.useState({data:null}),h=Object(_.a)(g,2),O=h[0],f=h[1];function v(e){var t=e.modalType,n=e.itemId,i=null;"ingredientDetail"===t?(p(!0),i=r.data.find((function(e){return e._id===n})),f({data:i})):"orderDetail"===t&&o(!0)}function N(){o(!1),p(!1)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)("main",{className:d.a.container,children:[Object(b.jsx)("section",{className:d.a.container_left+" mr-5",children:Object(b.jsx)(L,{items:r.data,openModal:v})}),Object(b.jsx)("section",{className:d.a.container_right+" ml-5",children:Object(b.jsx)(y,{items:r.data,openModal:v})})]}),j&&Object(b.jsx)(U,{closeModal:N,children:Object(b.jsx)(F,{image:O.data.image,name:O.data.name,calories:O.data.calories,fat:O.data.fat,proteins:O.data.proteins,carbohydrates:O.data.carbohydrates})}),l&&Object(b.jsx)(U,{closeModal:N,children:Object(b.jsx)(S,{})})]})}c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(X,{})}),document.getElementById("root"))},24:function(e,t,r){e.exports={container:"app_container__3oySj",container_left:"app_container_left__2BdKF",container_right:"app_container_right__3mMa8"}},25:function(e,t,r){e.exports={menu_item__link:"menu-item_menu_item__link__7BC_U",menu_item__link_style_unactive:"menu-item_menu_item__link_style_unactive__1g--Z",menu_item__link_style_active:"menu-item_menu_item__link_style_active__3HIBp"}},26:function(e,t,r){e.exports={burgeringredients_card:"burger-ingredients-card_burgeringredients_card__36h5k",burgeringredients_card__ingredient_price:"burger-ingredients-card_burgeringredients_card__ingredient_price__1G5Iw",burgeringredients_card__ingredient_name:"burger-ingredients-card_burgeringredients_card__ingredient_name__-GGUT"}},27:function(e,t,r){e.exports={order__container:"order-details_order__container__2tlqp",order__img:"order-details_order__img__gKARh",order__digitdecor:"order-details_order__digitdecor__hRfMx"}},45:function(e,t,r){e.exports={burgeringredients__tab_selector:"burger-ingredients_burgeringredients__tab_selector__2Kr0J",burgeringredients__scroll_container:"burger-ingredients_burgeringredients__scroll_container__HfQOK"}},46:function(e,t,r){e.exports={modal__space:"modal_modal__space__lmCTc",modal__close_icon:"modal_modal__close_icon__8g-C1"}},66:function(e,t,r){e.exports={burger_ingredients_list:"burger-ingredients-category_burger_ingredients_list__2Jwyq"}},67:function(e,t,r){e.exports={overlay:"modal-overlay_overlay__2GbMP"}},72:function(e,t,r){}},[[151,1,2]]]);
//# sourceMappingURL=main.a9c75fda.chunk.js.map