(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{119:function(e,t,r){e.exports={overlay:"modal-overlay_overlay__2GbMP"}},12:function(e,t,r){e.exports={mainBox:"OrderCardStyles_mainBox__Macla",price:"OrderCardStyles_price__1SEPt",done:"OrderCardStyles_done__2l59z",itemConteiner:"OrderCardStyles_itemConteiner__3lexg",mainConteiner:"OrderCardStyles_mainConteiner__3Ap4e",mainInfoLine:"OrderCardStyles_mainInfoLine__2oEXn",mainInfo:"OrderCardStyles_mainInfo__3-Pft",link:"OrderCardStyles_link__Et0Bv",content:"OrderCardStyles_content__3xIQT",orderDetail:"OrderCardStyles_orderDetail__1cOj4",ingredients:"OrderCardStyles_ingredients__3Tpbn",image:"OrderCardStyles_image__tK4ne",lastImage:"OrderCardStyles_lastImage__205AJ",lastImagespace:"OrderCardStyles_lastImagespace__2Rzhd",plus:"OrderCardStyles_plus__1aXjq"}},121:function(e,t,r){e.exports={container:"Spiner_container__26KaV",bun:"Spiner_bun__3UF_7",ingredients:"Spiner_ingredients___v0QC",spin:"Spiner_spin__3C_a4",text:"Spiner_text__2-NLV",spiner:"Spiner_spiner__1G-re",load3:"Spiner_load3__3NWsQ",spaces:"Spiner_spaces__3C9ee"}},122:function(e,t,r){e.exports={mainbox:"page404_mainbox__apvVD"}},130:function(e,t,r){},15:function(e,t,r){e.exports={order__container:"order-details_order__container__2tlqp",order__img:"order-details_order__img__gKARh",order__digitdecor:"order-details_order__digitdecor__hRfMx",order__loading:"order-details_order__loading__8YDg-",orderIcon:"order-details_orderIcon__2R6sT",orderImage:"order-details_orderImage__3wCgB",doneStatus:"order-details_doneStatus__1JV-u",ingredientScroll:"order-details_ingredientScroll__1GwIZ",orderDetailModal:"order-details_orderDetailModal__1Zi9y",scrollInside:"order-details_scrollInside__1sYqW",detailOrderInfoHeader:"order-details_detailOrderInfoHeader__BWF8n",mainOrderDetailInfo:"order-details_mainOrderDetailInfo__2vQiJ",infoEat:"order-details_infoEat__1KnTR",imageAndNameOrder:"order-details_imageAndNameOrder__1z2dU",priceOrderInfo:"order-details_priceOrderInfo__2TN7o",orderInfoTotal:"order-details_orderInfoTotal__ld8eU",orderInfoTotalCost:"order-details_orderInfoTotalCost__aiyed"}},17:function(e,t,r){e.exports={mainbox:"profile_mainbox__13INP",box:"profile_box__39kqd",navigation:"profile_navigation__1814f",navDiv:"profile_navDiv__1k6VW",orderHistoryBox:"profile_orderHistoryBox__tbb7p",noactivelink:"profile_noactivelink__3FomX",activelink:"profile_activelink__1sBOk",navButton:"profile_navButton__2o3Y1",text:"profile_text__3fRCj"}},20:function(e,t,r){e.exports={appheader:"app-header_appheader__3TnN2",link:"app-header_link__3M9yP",activelink:"app-header_activelink__3-26Q",appheader__menu_list:"app-header_appheader__menu_list__3LK_X",appheader__menu_item_left:"app-header_appheader__menu_item_left__1F4IX",appheader__menu_item_center:"app-header_appheader__menu_item_center__hKKRx",appheader__menu_item_right:"app-header_appheader__menu_item_right__rTD0n",linkbox:"app-header_linkbox__NBCta"}},23:function(e,t,r){e.exports={burger_constructor__main_list:"burger-constructor_burger_constructor__main_list__E__kw",burger_constructor__noingr:"burger-constructor_burger_constructor__noingr__3eewf",burger_constructor__noingr_space:"burger-constructor_burger_constructor__noingr_space__22k5A",burger_constructor__noingr_space_other:"burger-constructor_burger_constructor__noingr_space_other__3rxKX",burger_constructor__main_list_item:"burger-constructor_burger_constructor__main_list_item__1lDC3",burger_constructor__draggable_list:"burger-constructor_burger_constructor__draggable_list__2oMLz",burger_constructor__draggable_list_item:"burger-constructor_burger_constructor__draggable_list_item__3IoEM",burger_constructor__order_details:"burger-constructor_burger_constructor__order_details__3ahtJ"}},234:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(35),s=r.n(c),i=(r(130),r(20)),o=r.n(i),l=r(4),u=r(5),d=r(10),_=r(42),j=function(){return Object(_.b)()},b=_.c,m=r(6),p=r.n(m),O=r(14),x=r(211).create({baseURL:"https://norma.nomoreparties.space/api",headers:{"Content-Type":"application/json"}});x.interceptors.request.use((function(e){var t=X("accessToken");return t?e.headers.Authorization="Bearer "+t:delete x.defaults.headers.common.Authorization,e}),(function(e){return Promise.reject(e)})),x.interceptors.response.use((function(e){return e}),function(){var e=Object(O.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,"jwt expired"!==t.response.data.message){e.next=7;break}return e.next=4,V();case 4:return e.sent,x.defaults.headers.common.Authorization="Bearer"+X("accessToken"),e.abrupt("return",x(r));case 7:Promise.reject(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var f="USER_SIGN_UP_REQUEST",h="USER_SIGN_UP_SUCCESS",g="USER_SIGN_UP_FAILED",v="USER_LOG_IN_REQUEST",y="USER_LOG_IN_SUCCESS",N="USER_LOG_IN_FAILED",E="USER_LOG_OUT_REQUEST",S="USER_LOG_OUT_SUCCESS",I="USER_LOG_OUT_FAILED",C="USER_FORGOT_REQUEST",R="USER_FORGOT_SUCCESS",T="USER_FORGOT_FAILED",k="USER_RESET_REQUEST",L="USER_RESET_SUCCESS",w="USER_RESET_FAILED",D="GET_USER_REQUEST",U="GET_USER_SUCCESS",A="GET_USER_FAILED",G="USER_NEED_TO_REFRESH",M="PROFILE_IS_READY",P="GET_USER_REFRESH_REQUEST",B="GET_USER_REFRESH_SUCCESS",F="GET_USER_REFRESH_FAILED",H="USER_PROFILE_CHANGE_REQUEST",W="USER_PROFILE_CHANGE_SUCCESS",z="USER_PROFILE_CHANGE_FAILED",Q="CLEAR_ERROR_PROFILE",J="CLEAR_ERROR_FORGOT",K="CLEAR_ERROR_REGISTRATION";function q(e,t,r){var n=(r=r||{}).expires;if("number"==typeof n&&n){var a=new Date;a.setTime(a.getTime()+1e3*n),n=r.expires=a}n&&n.toUTCString&&(r.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var s in r){c+="; "+s;var i=r[s];!0!==i&&(c+="="+i)}document.cookie=c}function X(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Y(e,t,r){return function(){var n=Object(O.a)(p.a.mark((function n(a){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:H}),n.next=4,x.patch("auth/user",{email:e,password:t,name:r});case 4:c=n.sent,a({type:H}),200===c.status&&a({type:W,value:c.data}),200!==c.status&&a({type:z,error:c.status,errorMessage:c.status}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:z,error:n.t0,errorMessage:n.t0});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}function V(){return Z.apply(this,arguments)}function Z(){return(Z=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.post("auth/token",{token:X("refreshToken")}).then((function(e){if(200!==e.status)return e.data;var t=e.data;document.cookie="accessToken=".concat(t.accessToken.split("Bearer ")[1],"; path=/"),document.cookie="refreshToken=".concat(t.refreshToken,"; path=/")})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=r(0);function ee(){var e=b((function(e){return e.userInfo})).logged,t=Object(d.h)(),r=j();return Object(n.useEffect)((function(){e||r((function(e){e({type:Q}),e({type:J}),e({type:K})}))}),[t.pathname]),Object($.jsx)("header",{children:Object($.jsx)("nav",{className:o.a.appheader,children:Object($.jsxs)("ul",{className:o.a.appheader__menu_list,children:[Object($.jsx)("li",{className:o.a.appheader__menu_item_left,children:Object($.jsxs)(u.c,{exact:!0,to:{pathname:"/"},className:o.a.link,activeClassName:o.a.activelink,children:[Object($.jsx)(l.BurgerIcon,{type:"primary"}),Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive ml-2 mr-5",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object($.jsx)("li",{className:o.a.appheader__menu_item_left,children:Object($.jsxs)(u.c,{exact:!0,to:{pathname:"/feed"},className:o.a.link,activeClassName:o.a.activelink,children:[Object($.jsx)(l.ListIcon,{type:"secondary"}),Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive ml-2 mr-5",children:"\u041b\u0435\u043d\u0442\u0430\xa0\u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object($.jsx)("li",{className:o.a.appheader__menu_item_center,children:Object($.jsx)(u.c,{exact:!0,to:{pathname:"/"},children:Object($.jsx)(l.Logo,{})})}),Object($.jsx)("li",{className:o.a.appheader__menu_item_right,children:Object($.jsxs)(u.c,{to:{pathname:"/profile"},className:o.a.link,activeClassName:o.a.activelink,children:[Object($.jsx)(l.ProfileIcon,{type:"secondary"}),Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive ml-2 mr-5",children:"\u041b\u0438\u0447\u043d\u044b\u0439\xa0\u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})})}var te=r(7),re=r.p+"static/media/done.3ba9e5cd.svg",ne=r(15),ae=r.n(ne),ce=r(45),se=r(243),ie="GET_INGREDIENTS_API_REQUEST",oe="GET_INGREDIENTS_API_SUCCESS",le="GET_INGREDIENTS_API_FAILED",ue="SEND_ORDER_REQUEST",de="SEND_ORDER_SUCCESS",_e="SEND_ORDER_FAILED",je="CONSTRUCTOR_BUN",be="CONSTRUCTOR_MAIN_INGREDIENTS",me="MODAL_INGRIDIENT_OPEN",pe="MODAL_ORDER_OPEN",Oe="MODAL_CLOSE",xe="MODAL_ORDER_ERROR",fe="MODAL_ORDER_DETAIL_OPEN",he="WRITE_CURRENT_INGREDIENT",ge="DELETE_CURRENT_INGREDIENT",ve="TAB_SWITCH",ye="CONSTRUCTOR_CARD_CHANGE",Ne="CONSTRUCTOR_CLEAN",Ee="COUNT_TOTAL_PRICE",Se="COUNT_CARD",Ie="WRITE_CURRENT_ORDER_DETAIL",Ce="DELETE_CURRENT_ORDER_DETAIL",Re="GET_INFO_ONE_ORDER_REQUEST",Te="GET_INFO_ONE_ORDER_SUCCESS",ke="GET_INFO_ONE_ORDER_ERROR";function Le(e){return function(t){t({type:ve,value:e})}}function we(e,t,r){return function(n){var a=e.filter((function(e){return e.keyAdd--,e!==t}));0===a.length&&(console.log("totalCard.burgerData",r.burgerData),r.burgerData.filter((function(e){"bun"!==e.type&&(e.counter=0)}))),n({type:ye,value:a}),n({type:Se,value:r.burgerData})}}var De="movableCard",Ue="addbleCard";function Ae(e,t,r){var n=Object(ce.a)(t),a={};if(e.item)return function(c){"bun"===e.item.type&&e.item!==r&&(e.item.counter=2,console.log("1",r),r&&0!==(null===r||void 0===r?void 0:r.counter)&&(console.log("2",r),e.item.counter--,r.counter=0),e.item.counter=2,c({type:je,bun:e.item})),"bun"===e.item.type||t.includes(e.item)||(n.push(e.item),e.item.keyAdd=Object(se.a)()),"bun"!==e.item.type&&t.includes(e.item)&&(Object.assign(a,e.item),n.push(a),a.keyAdd=Object(se.a)()),c({type:be,mainIngredients:n})}}function Ge(e,t,r){var n=Object(ce.a)(r.burgerData).filter((function(e){return"bun"!==e.type})),a=Object(ce.a)(e),c=a.filter((function(e){return e._id===t._id})).length,s=n.find((function(e){return e._id===t._id})),i=n.indexOf(s),o=n.filter((function(e){return!a.includes(e)})).concat(a.filter((function(e){return!n.includes(e)})));return o&&(o.map((function(e){return e.counter=0,e})),n.concat(o).filter((function(e,t){return n.indexOf(e)===t&&0===e.counter}))),s.counter=c,n.splice(i,1,s),function(e){e({type:Se,value:r.burgerData})}}function Me(e){return function(t){var r;e?(t({type:Ne}),t((r=e,function(){var e=Object(O.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ue}),e.next=4,x.post("orders",{ingredients:r});case 4:200===(n=e.sent).status&&(a=n.data,t({type:de,data:a})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:_e,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),t({type:pe,open:!0})):t({type:xe,open:!0})}}function Pe(e,t){var r={right:null,totalCost:null},n=e.filter((function(e){return t.includes(e._id)})).concat(t.filter((function(t){return e.includes(t)})));return r.right=n.sort((function(e){return"bun"===e.type?-1:1})),r&&r.right&&(r.totalCost=r.right.map((function(e){return"bun"===e.type?2*e.price:"bun"!==e.type?e.price:void 0})).reduce((function(e,t){return e+t}),0)),r}function Be(e){var t=new Date(e),r=Number((new Date).getDate().toString()),n=Number((new Date).getMonth().toString()),a=Number((new Date).getFullYear().toString()),c=new Date(a,n,0).getDate(),s=t.toLocaleDateString("ru-RU",{day:"2-digit",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}).toString().replace(/[,.]/g,"").split(" "),i=s.slice();return s.map((function(e,t,n){var a=r-n[0],s=Number(n[0]);a<=0&&(a=Number(c)-Number(s)+1),s===r&&i.splice(0,1,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f,"),s===r-1&&i.splice(0,1,"\u0412\u0447\u0435\u0440\u0430,"),s>r&&s!==r-1&&i.splice(0,1,1===a?"\u0412\u0447\u0435\u0440\u0430,":"".concat(a," ").concat(a<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"," \u043d\u0430\u0437\u0430\u0434")),s<r&&s!==r-1&&i.splice(0,1,1===a?"\u0412\u0447\u0435\u0440\u0430,":"".concat(a," ").concat(a<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"," \u043d\u0430\u0437\u0430\u0434")),i.splice(2,1,"i-".concat(n[2]))})),i}function Fe(){var e=Object(d.j)().path,t=j(),r=Object(d.i)().id,a=b((function(e){return e.modalInfo})),c=a.isLoading,s=a.data,i=b((function(e){return e.createdOrder})),o=i.orderInfo,l=i.success,u=b((function(e){return e.modalInfo.detailOrderInfo})),_="/profile/orders/:id"===e?"/orders?token=".concat(X("accessToken")):"/orders/all";return Object(n.useEffect)((function(){u||t(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get(e);case 3:n=t.sent,r({type:Re}),200===n.status&&(a=n.data,r({type:Te,value:a})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:ke,value:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(_))}),[]),console.log("orderInfo",o),Object($.jsxs)("div",{className:ae.a.mainOrderDetailInfo+"pb-15",children:[!u&&l&&o&&Object($.jsxs)("div",{className:ae.a.order__container+"pt-30 pb-25",children:[Object($.jsx)("div",{className:"mb-8",children:Object($.jsx)("p",{className:"".concat(ae.a.order__digitdecor," text text_type_digits-large"),children:o.order.number})}),Object($.jsx)("p",{className:"text text_type_main-medium",children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object($.jsx)("img",{className:"".concat(ae.a.order__img," mb-15 mt-15"),alt:"\u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",src:re}),Object($.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object($.jsx)("div",{className:"mt-2",children:Object($.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})})]}),!c&&s&&Object($.jsx)($.Fragment,{children:Object($.jsx)(He,{id:r})})]})}var He=function(e){var t=e.id,r=b((function(e){return e.apiList.burgerData})),n=b((function(e){return e.modalInfo.detailOrderInfo})),a=b((function(e){return e.modalInfo.data})).orders.filter((function(e){return e._id==t})),c=Object(te.a)(a,1)[0];if(c){var s=Pe(r,c.ingredients),i=s.right,o=s.totalCost;return Object($.jsxs)("div",{className:ae.a.orderDetailModal,children:[!n&&Object($.jsx)("span",{className:ae.a.detailOrderInfoHeader+"text text_type_digits-default mb-10",children:"#".concat(c.number)}),Object($.jsx)("span",{className:"text text_type_main-medium mb-3",children:c.name}),Object($.jsx)("div",{className:"text text_type_main-default mb-15",children:"done"===c.status?Object($.jsx)("span",{className:ae.a.doneStatus+"mb-2",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}):Object($.jsx)("span",{children:"not"})}),Object($.jsx)("span",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432"}),Object($.jsx)("div",{className:"mb-10",children:Object($.jsx)(We,{total:i})}),Object($.jsxs)("div",{className:ae.a.orderInfoTotal,children:[" ",Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:Be(c.createdAt).join(" ")}),Object($.jsxs)("div",{className:ae.a.orderInfoTotalCost,children:[Object($.jsx)("span",{className:"text text_type_digits-default mr-2",children:o}),Object($.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})}return null},We=function(e){var t=e.total,r=Array.from(new Set(t));return r.map((function(e){e.count=t.filter((function(t){return t===e})).length,"bun"===e.type&&(e.count=2)})),Object($.jsx)("div",{className:ae.a.ingredientScroll,children:r.map((function(e,t){return Object($.jsxs)("div",{className:ae.a.infoEat,children:[Object($.jsx)("div",{className:ae.a.scrollInside+"mb-4",children:Object($.jsxs)("div",{className:ae.a.imageAndNameOrder,children:[Object($.jsx)("div",{className:ae.a.orderImage,children:Object($.jsx)("img",{src:e.image_mobile,alt:e.name})}),Object($.jsx)("span",{className:"text text_type_main-default m-4",children:e.name})]})}),Object($.jsxs)("div",{className:ae.a.priceOrderInfo,children:[Object($.jsx)("span",{className:"text text_type_digits-default mr-2",children:"".concat(e.count," x ").concat(e.price)}),Object($.jsx)(l.CurrencyIcon,{type:"primary"})]})]},"".concat(e._id).concat(t))}))})},ze=r(43),Qe=r.n(ze),Je=function(e){var t=e.type,r=e.content;return Object($.jsxs)("div",{className:"".concat(Qe.a.ingredient__element," mr-5"),children:[Object($.jsx)("p",{className:"text text_type_main-default",children:t}),Object($.jsx)("p",{className:"text text_type_digits-default",children:r})]})};var Ke=function(){var e=Object(d.i)().id,t=b((function(e){return e.apiList.burgerData})).find((function(t){return t._id===e}));return Object(d.h)(),t?Object($.jsxs)("div",{className:"".concat(Qe.a.ingredient__container," p-10"),children:[Object($.jsx)("p",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object($.jsx)("img",{className:"".concat(Qe.a.ingredient__img),src:null===t||void 0===t?void 0:t.image_large,alt:null===t||void 0===t?void 0:t.name}),Object($.jsx)("p",{className:"text text_type_main-medium",children:null===t||void 0===t?void 0:t.name}),Object($.jsxs)("div",{className:"".concat(Qe.a.ingredient__info," mt-8 text_color_inactive"),children:[Object($.jsx)(Je,{type:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b",content:null===t||void 0===t?void 0:t.calories}),Object($.jsx)(Je,{type:"\u0411\u0435\u043b\u043a\u0438, \u0433",content:null===t||void 0===t?void 0:t.proteins}),Object($.jsx)(Je,{type:"\u0416\u0438\u0440\u044b, \u0433",content:null===t||void 0===t?void 0:t.fat}),Object($.jsx)(Je,{type:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433",content:null===t||void 0===t?void 0:t.carbohydrates})]})]}):null},qe=r(60),Xe=r.n(qe),Ye=r(119),Ve=r.n(Ye),Ze=function(e){var t=e.closeClick;return Object($.jsx)("div",{className:Ve.a.overlay,onClick:t})},$e=document.getElementById("modal-root"),et=function(e){var t=e.children,r=e.header,a=Object(d.h)(),s=Object(d.j)().url,i=Object(d.g)(),o=function(){l((function(e){e({type:Oe}),e({type:ge})})),i.replace({pathname:a.state?"".concat(a.state.background.pathname):"".concat(s)})},l=j(),u=b((function(e){return e.modalInfo})).allClose,_=Object(n.useCallback)((function(e){"Escape"===e.key&&o()}),[]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",_),function(){window.removeEventListener("keydown",_)}}),[]),u?null:Object(c.createPortal)(Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Ze,{closeClick:function(){return o()}}),Object($.jsxs)("div",{className:Xe.a.modal__space,children:[r,Object($.jsx)("div",{className:Xe.a.modal__close_icon,onClick:function(){return o()}}),Object($.jsx)("div",{className:Xe.a.modalBody,children:t})]})]}),$e)},tt=r(241),rt=r(242),nt=r(23),at=r.n(nt);function ct(){var e=b((function(e){return e.constructorList.mainIngredients})).map((function(e,t){return Object($.jsx)(st,{className:at.a.burger_constructor__draggable_list,elemKey:e,id:e._id,name:e.name,price:e.price,image:e.image_mobile,index:t},e.keyAdd)}));return Object($.jsx)($.Fragment,{children:e})}var st=function(e){var t=e.id,r=e.name,a=e.price,c=e.image,s=e.index,i=e.elemKey,o=j(),u=b((function(e){return e.apiList})),d=b((function(e){return e.constructorList})),_=d.mainIngredients,m=d.bun;Object(n.useEffect)((function(){o(Ge(_,i,u))}),[_,m,Ae,Ge,i]),Object(n.useEffect)((function(){}),[u,we]);var p=Object(n.useRef)(null),O=Object(tt.a)({accept:De,collect:function(e){return{isOver:!!e.isOver()}},hover:function(e,t){var r;if(p.current){var n=e.index,a=s;if(n!==a){var c=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect(),i=(c.bottom-c.top)/2,l=t.getClientOffset().y-c.top;n<a&&l<i||n>a&&l>i||(o(function(e,t,r){var n=Object(ce.a)(r),a=n[e];return n.splice(e,1),n.splice(t,0,a),function(e){e({type:ye,value:n})}}(n,a,_)),e.index=a)}}}}),x=Object(te.a)(O,2)[1],f=Object(rt.a)({type:De,item:function(){return{id:t,index:s,elemKey:i}},collect:function(e){return{isDragging:e.isDragging()}}}),h=Object(te.a)(f,2),g=h[0].isDragging?0:1;return(0,h[1])(x(p)),Object($.jsxs)("div",{className:at.a.burger_constructor__draggable_list_item,ref:p,style:{opacity:g},children:[Object($.jsx)(l.DragIcon,{type:"primary"}),Object($.jsx)(l.ConstructorElement,{text:r,price:a,thumbnail:c,handleClose:function(){o(we(_,i,u))}})]})};function it(){var e=Object(d.g)(),t=b((function(e){return e.userInfo})).logged,r=b((function(e){return e.constructorList})),a=r.mainIngredients,c=r.bun,s=j(),i=Object(tt.a)({accept:Ue,collect:function(e){return{isOver:!!e.isOver()}},drop:function(e){s(Ae(e,a,c))}}),o=Object(te.a)(i,2)[1],u=b((function(e){return e.apiList.burgerData}));Object(n.useEffect)((function(){c&&s(function(e,t){var r=0,n=0;return t.type&&(n=2*t.price),t.type||(n=0),e.length>0&&(r=e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)),0===e.length&&(r=0),function(e){e({type:Ee,value:n+r})}}(a,c))}),[a,c]);var _=b((function(e){return e.price.totalPrice})),m=null;return c&&(m=c.type?a.map((function(e){return e._id})).concat(c._id,c._id):null),Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("ul",{className:at.a.burger_constructor__main_list,ref:o,children:[c&&Object($.jsx)("li",{className:at.a.burger_constructor__main_list_item,children:Object($.jsx)(l.ConstructorElement,{type:"top",isLocked:!0,text:c.name+" (\u0432\u0435\u0440\u0445)",thumbnail:c.image,price:c.price})},c.keyAdd),!c&&0===a.length&&Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:at.a.burger_constructor__noingr_space+"text text_type_main-medium",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442\u044b"}),Object($.jsx)("div",{className:at.a.burger_constructor__noingr})]}),0===a.length&&c&&Object($.jsx)("div",{className:at.a.burger_constructor__noingr_space_other,children:Object($.jsxs)("p",{className:"text text_type_main-medium",children:[Object($.jsx)("span",{className:"text_color_inactive",children:"\u041d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u043e\u043c\u043b\u0435\u0442, \u043d\u0435 \u0440\u0430\u0437\u0431\u0438\u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044f\u0438\u0446, \u0430 \u0431\u0443\u0440\u0433\u0435\u0440, \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0432"})," \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432",Object($.jsxs)("span",{className:"text text_type_main-small text_color_inactive",children:[".",Object($.jsx)("br",{}),"\xa9 \u0410\u043c\u0430\u0440 \u0425\u0430\u044f\u043c \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0437\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u043b\u043e\u0441\u043e\u0444\u044b"]})]})}),Object($.jsx)("li",{className:at.a.burger_constructor__draggable_list,children:a.length>0&&Object($.jsx)(ct,{})}),c&&Object($.jsx)("li",{className:at.a.burger_constructor__main_list_item,children:Object($.jsx)(l.ConstructorElement,{isLocked:!0,type:"bottom",text:c.name+" (\u043d\u0438\u0437)",thumbnail:c.image,price:c.price})},"bottom_bun")]}),Object($.jsxs)("div",{className:at.a.burger_constructor__order_details,children:[Object($.jsx)("p",{className:"text text_type_digits-medium",children:_}),Object($.jsx)("span",{className:"ml-2 mr-10",children:Object($.jsx)(l.CurrencyIcon,{type:"primary"})}),!c&&Object($.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0438!"}),c&&Object($.jsx)(l.Button,{type:"primary",size:"medium",onClick:function(){t?s(Me(m),function(e){var t=e.map((function(e){return e.counter=0,e}));return function(e){e({type:Se,value:t})}}(u)):e.replace({pathname:"/login"})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})}var ot=r(84),lt=r.n(ot),ut=r(85),dt=r.n(ut),_t=r(61),jt=r.n(_t),bt=function(e){var t=e.index,r=e.elem,n=b((function(e){return e.constructorList})),a=j(),c=Object(rt.a)({type:Ue,item:{item:r,index:t},collect:function(e){return{isDragging:e.isDragging()?.4:1}}}),s=Object(te.a)(c,2),i=(s[0].isDragging,s[1]);return Object($.jsxs)("li",{className:jt.a.burgeringredients_card,ref:i,id:r._id,onClick:function(){return a(function(e){return function(t){t({type:he,name:e.name,image:e.image_large,calories:e.calories,proteins:e.proteins,fat:e.fat,carbohydrates:e.carbohydrates}),t({type:me,open:!0})}}(r))},children:[r.counter>0&&Object($.jsx)(l.Counter,{count:(n.bun?n.mainIngredients.concat(n.bun,n.bun):n.mainIngredients).filter((function(e){return e._id===r._id})).length,size:"default"}),Object($.jsx)("img",{src:r.image,alt:r.name,title:r.name,className:"ml-4 mr-4"}),Object($.jsxs)("div",{className:jt.a.burgeringredients_card__ingredient_price,children:[Object($.jsx)("p",{className:"pr-2 text text_type_digits-default",children:r.price}),Object($.jsx)(l.CurrencyIcon,{type:"primary"})]}),Object($.jsx)("p",{className:jt.a.burgeringredients_card__ingredient_name+" text text_type_main-default",children:r.name})]})},mt=function(e){var t=e.type,r=Object(d.h)(),n=b((function(e){return e.apiList.burgerData}));return Object($.jsx)("ul",{className:dt.a.burger_ingredients_list+" ml-4 mt-6 mr-2 mb-10",children:null===n||void 0===n?void 0:n.map((function(e,n){if(e.type===t)return Object($.jsx)(u.b,{to:{pathname:"/ingredients/".concat(e._id),state:{background:r}},className:dt.a.link,children:Object($.jsx)(bt,{index:n,elem:e},e._id)},e._id)}))})},pt=function(e){var t=e.textContent,r=e.cardType;return Object($.jsxs)("section",{id:r,children:[Object($.jsx)("h2",{className:"text text_type_main-medium mt-10 mb-6",children:t}),Object($.jsx)(mt,{type:r})]})};function Ot(){var e=j(),t=b((function(e){return e.tabSwtich.currentTab})),r=function(t){e(Le(t));var r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth"})};return Object($.jsxs)("div",{className:lt.a.burgeringredients__tab_selector,children:[Object($.jsx)(l.Tab,{value:"bun",active:"bun"===t,onClick:function(e){return r(e)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object($.jsx)(l.Tab,{value:"sauce",active:"sauce"===t,onClick:function(e){return r(e)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object($.jsx)(l.Tab,{value:"main",active:"main"===t,onClick:function(e){return r(e)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})}function xt(){var e=j(),t=Object(n.useRef)(null),r=function(r){var n=r.target.childNodes[0].offsetHeight,a=r.target.childNodes[1].clientHeight;t.current.scrollTop<n&&e(Le("bun")),t.current.scrollTop>=n&&t.current.scrollTop<n+a&&e(Le("sauce")),t.current.scrollTop>=n+a&&e(Le("main"))};return Object(n.useEffect)((function(){return t&&t.current&&t.current.addEventListener("scroll",(function(e){r(e)})),function(){t&&t.current&&t.current.removeEventListener("scroll",(function(e){r(e)}))}}),[]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)("h1",{className:"text text_type_main-large mt-10",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object($.jsx)(Ot,{}),Object($.jsxs)("div",{className:lt.a.burgeringredients__scroll_container,ref:t,children:[Object($.jsx)(pt,{textContent:"\u0411\u0443\u043b\u043a\u0438",cardType:"bun"}),Object($.jsx)(pt,{textContent:"\u0421\u043e\u0443\u0441\u044b",cardType:"sauce"}),Object($.jsx)(pt,{textContent:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",cardType:"main"})]})]})}var ft=r(62),ht=r.n(ft),gt=r(124),vt=r(240);var yt=function(){var e=b((function(e){return e.modalInfo})).orderModal;return Object($.jsxs)("main",{className:ht.a.container,children:[Object($.jsxs)(vt.a,{backend:gt.a,children:[Object($.jsx)("section",{className:ht.a.container_left+" mr-5",children:Object($.jsx)(xt,{})}),Object($.jsx)("section",{className:ht.a.container_right+" ml-5",children:Object($.jsx)(it,{})})]}),e&&Object($.jsx)(et,{children:Object($.jsx)(Fe,{})})]})},Nt=r(24),Et=r.n(Nt),St=r(87),It=r.n(St),Ct=function(e){var t=e.error;return Object($.jsxs)("div",{className:" mt-10",children:[Object($.jsxs)("span",{className:It.a.box+"text text_type_main-default",children:["\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u0430\u043a ",t,"! :( \u041d\u043e \u0432\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u0441\u044c.\xa0"]}),Object($.jsx)("span",{className:It.a.text+"text text_type_main-default",children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445."})]})};var Rt=function(){var e=b((function(e){return e.userInfo})),t=e.error,r=e.hasError,a=(e.logged,j()),c=Object(n.useState)(""),s=Object(te.a)(c,2),i=s[0],o=s[1],d=Object(n.useState)(""),_=Object(te.a)(d,2),m=_[0],f=_[1];return Object($.jsxs)("div",{className:Et.a.mainbox,children:[Object($.jsx)("span",{className:Et.a.header+"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"}),Object($.jsxs)("form",{onSubmit:function(e){var t,r;e.preventDefault(),a((t=m,r=i,function(){var e=Object(O.a)(p.a.mark((function e(n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:v}),e.next=4,x.post("auth/login",{email:t,password:r});case 4:200===(a=e.sent).status&&(q("accessToken",(c=a.data).accessToken.split("Bearer ")[1],{path:"/"}),document.cookie="refreshToken=".concat(c.refreshToken,";  path=/"),n({type:y,value:c})),200!==a.status&&n({type:N,value:a.status,errorMessage:a.data.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:N,value:e.t0.status});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object($.jsx)("div",{className:Et.a.input,children:Object($.jsx)(l.Input,{type:"text",onChange:function(e){return f(e.target.value)},value:m,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",placeholder:"E-mail"})}),Object($.jsx)("div",{className:Et.a.input,children:Object($.jsx)(l.PasswordInput,{onChange:function(e){o(e.target.value)},value:i,name:"password"})}),Object($.jsx)("div",{children:Object($.jsx)("div",{className:Et.a.button,children:Object($.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})})]}),r&&Object($.jsx)(Ct,{error:t}),Object($.jsxs)("div",{className:Et.a.text,children:[Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?\xa0"}),Object($.jsx)(u.b,{to:{pathname:"/register"},className:Et.a.link,children:Object($.jsx)("span",{className:"text text_type_main-default",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object($.jsxs)("div",{className:Et.a.text,children:[Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0"}),Object($.jsx)(u.b,{to:{pathname:"/forgot-password"},className:Et.a.link,children:Object($.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})]})]})},Tt=r(28),kt=r.n(Tt);var Lt=function(){var e=b((function(e){return e.registration})),t=e.hasError,r=e.error,a=(e.regInfo,Object(d.g)()),c=j(),s=Object(n.useState)(""),i=Object(te.a)(s,2),o=i[0],_=i[1],m=Object(n.useState)(""),v=Object(te.a)(m,2),y=v[0],N=v[1],E=Object(n.useState)(""),S=Object(te.a)(E,2),I=S[0],C=S[1];return Object($.jsxs)("div",{className:kt.a.mainbox,children:[Object($.jsx)("span",{className:kt.a.header+"text text_type_main-medium ",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object($.jsxs)("form",{onSubmit:function(){c(function(e,t,r,n){return function(){var a=Object(O.a)(p.a.mark((function a(c){var s,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.post("auth/register",{email:e,password:r,name:t});case 3:if(s=a.sent,c({type:f}),200===s.status&&(i=s.data,c({type:h,value:i}),n.replace({pathname:"/login"})),s.ok){a.next=8;break}throw new Error(s.status);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),c({type:g,value:a.t0});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(y,I,o,a))},children:[Object($.jsx)("div",{className:kt.a.input,children:Object($.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return C(e.target.value)},value:I,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object($.jsx)("div",{className:kt.a.input,children:Object($.jsx)(l.Input,{type:"text",placeholder:"E-mail",onChange:function(e){return N(e.target.value)},value:y,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object($.jsx)("div",{className:kt.a.input,children:Object($.jsx)(l.PasswordInput,{onChange:function(e){_(e.target.value)},value:o,name:"password"})}),Object($.jsx)("div",{children:Object($.jsxs)("div",{className:kt.a.button,children:[Object($.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),t&&Object($.jsx)(Ct,{error:r})]})})]}),Object($.jsxs)("div",{className:kt.a.text,children:[Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0"}),Object($.jsx)(u.b,{to:{pathname:"/login"},className:kt.a.link,children:Object($.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},wt=r(63),Dt=r.n(wt);var Ut=function(){var e=b((function(e){return e.forgotRequest})),t=e.hasError,r=e.error,a=Object(n.useState)(""),c=Object(te.a)(a,2),s=c[0],i=c[1],o=j(),_=Object(d.g)();return Object($.jsxs)("div",{className:Dt.a.mainbox,children:[Object($.jsx)("span",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object($.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),/\S+@\S+\.\S+/.test(s)?(o((t=s,function(){var e=Object(O.a)(p.a.mark((function e(r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:C}),e.next=4,x.post("password-reset",{email:t});case 4:200===(n=e.sent).status&&(a=n.data,r({type:R,value:a})),200!==n.status&&r({type:T,value:n.status}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:T,value:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),_.replace({pathname:"/reset-password"})):o({type:T,value:"\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})},children:[Object($.jsx)("div",{className:"mb-6",children:Object($.jsx)(l.Input,{type:"text",placeholder:"E-mail",onChange:function(e){return i(e.target.value)},value:s,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object($.jsx)("div",{children:Object($.jsx)("div",{className:Dt.a.button,children:Object($.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})})]}),t?Object($.jsx)(Ct,{error:r}):null,Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0"}),Object($.jsx)(u.b,{className:Dt.a.link,to:{pathname:"/login"},children:Object($.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},At=r(32),Gt=r.n(At);var Mt=function(){var e=j(),t=Object(d.g)(),r=b((function(e){return e.forgotRequest})),a=r.hasError,c=r.error,s=Object(n.useState)(""),i=Object(te.a)(s,2),o=i[0],_=i[1],m=Object(n.useState)(""),f=Object(te.a)(m,2),h=f[0],g=f[1];return Object($.jsxs)("div",{className:Gt.a.mainbox,children:[Object($.jsx)("span",{className:Gt.a.header+"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object($.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(function(e,t,r){return function(){var n=Object(O.a)(p.a.mark((function n(a){var c,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:k}),n.next=4,x.post("password-reset/reset",{password:e,token:t});case 4:200===(c=n.sent).status&&(s=c.data,a({type:L,value:s}),r.replace({pathname:"/"})),200!==c.status&&a({type:w,error:c.status}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:w,error:n.t0.status});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,h,t))},children:[Object($.jsx)("div",{className:Gt.a.input,children:Object($.jsx)(l.PasswordInput,{onChange:function(e){_(e.target.value)},value:o,name:"password"})}),Object($.jsx)("div",{className:Gt.a.input,children:Object($.jsx)(l.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return g(e.target.value)},value:h,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object($.jsx)("div",{children:Object($.jsx)("div",{className:Gt.a.button,children:Object($.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})})]}),a&&Object($.jsx)(Ct,{error:c}),Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0"}),Object($.jsx)(u.b,{className:Gt.a.link,to:{pathname:"/login"},children:Object($.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},Pt=r(17),Bt=r.n(Pt),Ft=r(12),Ht=r.n(Ft);var Wt=function(e){var t=e.elem,r=j(),n=t.createdAt,a=t.ingredients,c=t.name,s=t.number,i=b((function(e){return e.apiList.burgerData})),o="/profile/orders"===Object(d.j)().path?t.status:"",u=Pe(i,a),_=u.right,m=u.totalCost,p=_.length-6+1,O=("done"===o&&Ht.a.done,function(){r(function(e){return function(t){t({type:Ie,number:e.number,name:e.name,status:e.status,ingredients:e.ingredients,date:e.createdAt}),t({type:fe,open:!0})}}(t))});return Object($.jsx)("div",{className:Ht.a.mainConteiner,children:Object($.jsx)("div",{className:Ht.a.itemConteiner,children:Object($.jsxs)("div",{className:"mb-4 p-6",onClick:function(){return O()},children:[Object($.jsxs)("div",{className:Ht.a.mainInfoLine,children:[Object($.jsx)("div",{className:Ht.a.mainInfo,children:Object($.jsx)("span",{className:"text text_type_digits-default",children:"#"+"".concat(s)})}),Object($.jsx)("div",{className:Ht.a.mainInfo,children:Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:Be(n).join(" ")})})]}),Object($.jsxs)("div",{className:Ht.a.content,children:[Object($.jsx)("span",{className:Ht.a.name+"text text_type_main-medium mb-2",children:c}),Object($.jsxs)("div",{className:Ht.a.orderDetail,children:[Object($.jsx)("div",{className:Ht.a.ingredients,children:_.map((function(e,t){var r="".concat(e._id).concat(t).concat(s);return t<=4?Object($.jsx)("div",{className:Ht.a.image,children:Object($.jsx)("img",{src:e.image_mobile,alt:e.name})},r):5===t?Object($.jsxs)("div",{className:Ht.a.lastImagespace,children:[Object($.jsx)("div",{className:Ht.a.lastImage,children:Object($.jsx)("img",{src:e.image_mobile,alt:e.name})}),Object($.jsx)("div",{className:Ht.a.plus,children:Object($.jsx)("span",{className:"text text_type_digits-default",children:"+".concat(p)})})]},r):void 0}))}),Object($.jsxs)("div",{className:Ht.a.price,children:[Object($.jsx)("span",{className:"text text_type_digits-default",children:m}),Object($.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})]})})})},zt=function(){var e=Object(d.h)(),t=Object(d.j)().url,r=b((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.orders}));return r?Object($.jsx)("div",{children:r.map((function(r){return Object($.jsx)(u.b,{to:{pathname:"".concat(t,"/").concat(r._id),state:{background:e}},className:Ht.a.link,children:Object($.jsx)(Wt,{elem:r},r._id)},r._id)}))}):null},Qt=r(121),Jt=r.n(Qt);var Kt=function(){return Object($.jsx)("div",{className:Jt.a.spiner})};function qt(){var e=Object(d.h)(),t=b((function(e){return e.webSocketAll.isLoading})),r=b((function(e){return e.webSocketAll.data})),a=b((function(e){return e.userInfo})).userInfo,c=Object(n.useState)(""),s=Object(te.a)(c,2),i=(s[0],s[1],Object(n.useState)(a.user.email)),o=Object(te.a)(i,2),l=(o[0],o[1],Object(n.useState)(a.user.name)),_=Object(te.a)(l,2),m=(_[0],_[1],Object(d.g)()),f=j();Object(n.useEffect)((function(){return f({type:"WS_CONNECTION_START",value:"wss://norma.nomoreparties.space/orders?token=".concat(X("accessToken")),place:!0}),function(){f({type:"WS_CONNECTION_TO_CLOSE"})}}),[]);return Object($.jsxs)("div",{className:Bt.a.mainbox,children:[Object($.jsx)("div",{className:Bt.a.navigation,children:Object($.jsxs)("div",{className:Bt.a.navDiv,children:[Object($.jsx)(u.c,{exact:!0,to:{pathname:"/profile"},className:Bt.a.noactivelink,activeClassName:Bt.a.activelink,children:Object($.jsx)("span",{className:"text text_type_main-medium",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object($.jsx)(u.c,{to:{pathname:"/profile/orders"},className:Bt.a.noactivelink,activeClassName:Bt.a.activelink,children:Object($.jsx)("span",{className:"text text_type_main-medium",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object($.jsx)("button",{className:Bt.a.navButton,onClick:function(){return f(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.post("auth/logout",{token:X("refreshToken")});case 3:if(n=t.sent,r({type:E}),200===n.status&&(a=n.data,document.cookie="accessToken=".concat(X("accessToken"),"; path=/; expires=")+new Date(-1).toUTCString(),document.cookie="refreshToken=".concat(X("refreshToken"),"; path=/; expires=")+new Date(-1).toUTCString(),r({type:S,value:a}),e.replace({pathname:"/login"})),200===n.status){t.next=8;break}throw new Error(n.status);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:I,value:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(m))},children:Object($.jsx)("span",{className:"text text_type_main-medium",children:"\u0412\u044b\u0445\u043e\u0434"})}),Object($.jsx)("span",{className:Bt.a.text,children:Object($.jsx)(Vt,{children:"/profile"===e.pathname?"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435":"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})})]})}),Object($.jsxs)("div",{className:Bt.a.detailedorder,children:[Object($.jsx)(d.b,{exact:!0,path:"/profile",component:Xt}),Object($.jsx)(d.b,{exact:!0,path:"/profile/orders",component:!t&&r?Yt:Kt})]})]})}function Xt(){var e=j(),t=b((function(e){return e.userInfo})),r=t.error,a=t.hasError,c=(t.changeIsLoading,b((function(e){return e.userInfo})).userInfo),s=Object(n.useState)(""),i=Object(te.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(c.user.email),_=Object(te.a)(d,2),m=_[0],p=_[1],O=Object(n.useState)(c.user.name),x=Object(te.a)(O,2),f=x[0],h=x[1],g=c.user.email!=m||c.user.name!=f;return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(Y(m,o,f))},children:[Object($.jsx)("div",{className:"mb-6",children:Object($.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return h(e.target.value)},icon:"EditIcon",value:f,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object($.jsx)("div",{className:"mb-6",children:Object($.jsx)(l.Input,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){return p(e.target.value)},icon:"EditIcon",value:m,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object($.jsx)("div",{className:"mb-6",children:Object($.jsx)(l.PasswordInput,{onChange:function(e){u(e.target.value)},value:o,name:"password"})}),Object($.jsx)("div",{className:Bt.a.button,children:o.length>0&&Object($.jsx)(l.Button,{size:g?"small":"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),g&&Object($.jsx)("div",{className:"mt-3",children:Object($.jsx)(l.Button,{size:o.length>0?"small":"medium",onClick:function(){u(""),p(c.user.email),h(c.user.name)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),a&&Object($.jsx)(Ct,{error:r})]})}function Yt(){j();var e=b((function(e){return e.webSocketAll.data}));X("accessToken");return e?Object($.jsx)("div",{className:Bt.a.orderHistoryBox,children:e.orders&&!e.message&&Object($.jsx)(zt,{})}):null}var Vt=function(e){var t=e.children;return Object($.jsx)("span",{className:"text text_type_main-default text_color_inactive mr-15",children:t})},Zt=function(){var e=Object(d.j)().path;return Object($.jsxs)("div",{className:Bt.a.box,children:[Object($.jsx)(d.b,{path:"".concat(e),component:qt}),Object($.jsx)(d.b,{path:"".concat(e,"/orders/:id"),component:Fe})]})},$t=r(122),er=r.n($t);var tr=function(){return Object($.jsxs)("div",{className:er.a.mainbox,children:[Object($.jsx)("span",{className:"text text_type_digits-large mb-6",children:"\u041e\u0448\u0438\u0431\u043a\u0430 404"}),Object($.jsx)("span",{className:"text text_type_main-large mb-20"}),Object($.jsx)("span",{className:"text text_type_main-medium",children:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})},rr=r(44),nr=r.n(rr),ar=r(25),cr=r.n(ar);var sr=function(){var e,t,r=b((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.orders})),n=b((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.totalToday})),a=b((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.total}));return r&&(e=r.filter((function(e){return"done"===e.status})).slice(0,11),t=r.filter((function(e){return"pending"===e.status})).slice(0,11)),e&&t?Object($.jsxs)("div",{className:cr.a.main,children:[Object($.jsxs)("div",{className:cr.a.table,children:[Object($.jsxs)("div",{className:cr.a.ready,children:[Object($.jsx)("div",{className:cr.a.readyHeader,children:Object($.jsx)("span",{className:"text text_type_main-medium pb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"})}),Object($.jsx)("div",{className:cr.a.readyNumbers,children:Object($.jsx)("div",{className:"mr-9",children:e.map((function(e){return Object($.jsx)("span",{className:"mb-2 mr-1 text text_type_digits-default",children:e.number},e.number)}))})})]}),Object($.jsxs)("div",{children:[Object($.jsx)("div",{className:cr.a.inWorkTitle,children:Object($.jsx)("p",{className:"text text_type_main-medium pb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"})}),Object($.jsx)("div",{className:cr.a.inWorkNumbers,children:Object($.jsx)("div",{className:"mr-9",children:t.map((function(e){return Object($.jsx)("span",{className:"mb-2 mr-1 text text_type_digits-default",children:e.number},e.number)}))})})]})]}),Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object($.jsx)("div",{className:cr.a.number,children:Object($.jsx)("p",{className:"text text_type_digits-large",children:a})})]}),Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object($.jsx)("span",{className:cr.a.number,children:Object($.jsx)("p",{className:"text text_type_digits-large",children:n})})]})]}):null},ir="WS_CONNECTION_START",or="WS_CONNECTION_SUCCESS",lr="WS_CONNECTION_ERROR",ur="WS_CONNECTION_CLOSED",dr="WS_GET_MESSAGE",_r="WS_SEND_MESSAGE",jr="WS_CONNECTION_TO_CLOSE";var br=function(){var e=j(),t=b((function(e){return e.webSocketAll.data}));return Object(n.useEffect)((function(){return e({type:ir,value:"wss://norma.nomoreparties.space/orders/all",place:!1}),function(){e({type:jr})}}),[]),t?Object($.jsxs)("div",{children:[t.orders&&Object($.jsxs)("div",{className:nr.a.mainBox,children:[Object($.jsxs)("div",{className:nr.a.feedList,children:[Object($.jsx)("div",{className:nr.a.headerText,children:Object($.jsx)("span",{className:"text text_type_main-large mt-10 mb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object($.jsx)("div",{className:nr.a.feed,children:Object($.jsx)(zt,{})})]}),Object($.jsx)("div",{className:"mt-25 ml-15",children:Object($.jsx)(sr,{})})]}),!t.orders&&!t.message&&Object($.jsx)("div",{className:"mt-30",children:Object($.jsx)(Kt,{})})]}):Object($.jsx)("div",{className:"mt-30",children:Object($.jsx)(Kt,{})})},mr=r(2),pr=r(36),Or=["children"],xr=function(e){var t=e.children,r=Object(pr.a)(e,Or),n=b((function(e){return e.userInfo})),a=n.logged,c=Object(d.h)().state;return Object($.jsx)(d.b,Object(mr.a)(Object(mr.a)({},r),{},{render:function(){return a?Object($.jsx)(d.a,{to:c?c.from:"/"}):t}}))},fr=["children"],hr=function(e){var t=e.children,r=Object(pr.a)(e,fr),n=b((function(e){return e.userInfo})).logged,a=b((function(e){return e.forgotRequest})),c=a.isLoading,s=a.sent;return Object($.jsx)($.Fragment,{children:!c&&Object($.jsx)(d.b,Object(mr.a)(Object(mr.a)({},r),{},{render:function(){return!n&&s?t:Object($.jsx)(d.a,{to:"/"})}}))})},gr=["children"],vr=function(e){var t=e.children,r=Object(pr.a)(e,gr),n=b((function(e){return e.userInfo})),a=n.logged,c=n.isLoading,s=n.loadingUser,i=n.loadingRefresh;return Object($.jsx)($.Fragment,{children:!c&&!s&&!i&&Object($.jsx)(d.b,Object(mr.a)(Object(mr.a)({},r),{},{render:function(e){var r=e.location;return a?t:Object($.jsx)(d.a,{to:{pathname:"/login",state:{from:r}}})}}))})};function yr(){var e=Object(d.h)(),t=Object(d.g)(),r=j(),n=b((function(e){return e.apiList})),c=n.hasError,s=n.error,i=n.isLoading,o=n.burgerData;a.a.useEffect((function(){r(function(){var e=Object(O.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("ingredients");case 3:r=e.sent,t({type:ie}),200===r.status&&(n=r.data.data,a=n.map((function(e){return e.keyAdd=0,e.key=e._id,e.counter=0,e})),t({type:oe,items:a})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:le,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),X("accessToken")&&r(function(){var e=Object(O.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:D}),e.next=4,x.get("auth/user");case 4:if(200===(r=e.sent).status&&(n=r.data,t({type:U,value:n}),t({type:M,value:!0})),200===r.status){e.next=8;break}throw new Error(r.status);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:M,value:!1}),t({type:A,errorMessage:e.t0,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var l=b((function(e){return e.currentOrderDetail.number})),u="PUSH"===t.action&&e.state&&e.state.background;return Object($.jsxs)($.Fragment,{children:[i&&Object($.jsx)(Kt,{}),c&&Object($.jsx)("div",{children:s}),!i&&!c&&o&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ee,{}),Object($.jsxs)(d.d,{location:u||e,children:[Object($.jsx)(d.b,{exact:!0,path:"/",component:yt}),Object($.jsx)(d.b,{exact:!0,path:"/feed",component:br}),Object($.jsx)(xr,{exact:!0,path:"/login",children:Object($.jsx)(Rt,{})}),Object($.jsx)(xr,{exact:!0,path:"/register",children:Object($.jsx)(Lt,{})}),Object($.jsx)(xr,{exact:!0,path:"/forgot-password",children:Object($.jsx)(Ut,{})}),Object($.jsx)(hr,{exact:!0,path:"/reset-password",children:Object($.jsx)(Mt,{})}),Object($.jsx)(vr,{path:"/profile",children:Object($.jsx)(Zt,{})}),Object($.jsx)(d.b,{exact:!0,path:"/ingredients/:id",component:Ke}),Object($.jsx)(d.b,{exact:!0,path:"/feed/:id",component:Fe}),Object($.jsx)(d.b,{children:Object($.jsx)(tr,{})})]}),u&&Object($.jsx)(d.b,{path:"/ingredients/:id",children:Object($.jsx)(et,{children:Object($.jsx)(Ke,{})})}),u&&Object($.jsx)(d.b,{path:"".concat(u.pathname,"/:id"),children:Object($.jsx)(et,{header:Object($.jsx)("span",{className:"text text_type_digits-default  ml-10 mt-10 mb-10",children:"#".concat(l)}),children:Object($.jsx)(Fe,{})})})]})]})}var Nr=r(27),Er=r(123),Sr={url:null,connected:!1,data:null,close:null,error:null,info:null,isLoading:!1,inProfile:!1,closing:!1,message:null},Ir={hasError:!1,error:null,isLoading:!1,regInfo:null},Cr={hasError:!1,error:null,isLoading:!1,userInfo:null,logged:!1,needToRefresh:!1,refreshedTokens:null,failedToRefresh:!1,profileReady:!1,loadingUser:!1,loadingRefresh:!1,refreshed:!1,changeIsLoading:!1,errorMessage:null,failedToChange:!1},Rr={hasError:!1,error:null,isLoading:!1,sent:!1,result:null,sending:!1},Tr={hasError:!1,error:null,isLoading:!1,burgerData:null},kr={bun:null,mainIngredients:[]},Lr={name:"",image:null,calories:null,proteins:null,fat:null,carbohydrates:null},wr={ingridientModal:!1,orderModal:!1,detailOrderInfo:!1,allClose:!0,data:null,isLoading:!1,error:null,hasError:!1,modalError:!1},Dr={hasError:!1,error:null,isLoading:!1,orderInfo:null,success:!1},Ur={currentTab:"bun"},Ar={totalPrice:null},Gr={number:null,name:"",status:"",ingredients:[],createdAt:""},Mr=Object(Nr.combineReducers)({apiList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case oe:return Object(mr.a)(Object(mr.a)({},e),{},{burgerData:t.items,isLoading:!1,hasError:!1});case le:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,hasError:!0,burgerData:null,error:t.error});case Se:return Object(mr.a)(Object(mr.a)({},e),{},{burgerData:t.value});default:return e}},constructorList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(mr.a)(Object(mr.a)({},e),{},{bun:t.bun});case be:return Object(mr.a)(Object(mr.a)({},e),{},{mainIngredients:t.mainIngredients});case ye:return Object(mr.a)(Object(mr.a)({},e),{},{mainIngredients:t.value});case Ne:return Object(mr.a)(Object(mr.a)({},e),{},{mainIngredients:kr.mainIngredients,bun:kr.bun});default:return e}},modalInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(mr.a)(Object(mr.a)({},e),{},{ingridientModal:t.open,orderModal:!1,allClose:!1,modalError:!1});case pe:return Object(mr.a)(Object(mr.a)({},e),{},{orderModal:t.open,ingridientModal:!1,modalError:!1,allClose:!1});case fe:return Object(mr.a)(Object(mr.a)({},e),{},{orderModal:!1,ingridientModal:!1,modalError:!1,detailOrderInfo:t.open,allClose:!1});case xe:return Object(mr.a)(Object(mr.a)({},e),{},{modalError:t.open,ingridientModal:!1,allClose:!1});case Oe:return Object(mr.a)(Object(mr.a)({},e),{},{ingridientModal:!1,orderModal:!1,modalError:!1,detailOrderInfo:!1,allClose:!0});case Re:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case Te:return Object(mr.a)(Object(mr.a)({},e),{},{data:t.value,hasError:!1,isLoading:!1});case ke:return Object(mr.a)(Object(mr.a)({},e),{},{hasError:!0,isLoading:!1,error:t.value});default:return e}},currentIngredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(mr.a)(Object(mr.a)({},e),{},{name:t.name,image:t.image,calories:t.calories,proteins:t.proteins,fat:t.fat,carbohydrates:t.carbohydrates});case ge:return Object(mr.a)(Object(mr.a)({},e),{},{name:"",image:null,calories:null,proteins:null,fat:null,carbohydrates:null});default:return e}},createdOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case de:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,success:!0,hasError:!1,orderInfo:t.data});case _e:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,hasError:!0,error:t.error,orderInfo:null});default:return e}},tabSwtich:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,t=arguments.length>1?arguments[1]:void 0;return t.type===ve?Object(mr.a)(Object(mr.a)({},e),{},{currentTab:t.value}):e},price:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0;return t.type===Ee?Object(mr.a)(Object(mr.a)({},e),{},{totalPrice:t.value}):e},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case h:return Object(mr.a)(Object(mr.a)({},e),{},{regInfo:t.value,isLoading:!1,hasError:!1});case g:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,hasError:!0,error:t.value});case K:return Object(mr.a)(Object(mr.a)({},e),{},{hasError:!1,error:null});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case y:return Object(mr.a)(Object(mr.a)({},e),{},{userInfo:t.value,hasError:!1,logged:!0,isLoading:!1,profileReady:!0,errorMessage:null});case N:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,hasError:!0,error:t.value});case E:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case S:return Object(mr.a)(Object(mr.a)({},e),{},{hasError:!1,error:null,isLoading:!1,userInfo:t.value,logged:!1,needToRefresh:!1,refreshedTokens:null,failedToRefresh:!1,profileReady:!1});case I:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,error:t.value});case D:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0,loadingUser:!0});case U:return Object(mr.a)(Object(mr.a)({},e),{},{profileReady:!0,userInfo:t.value,hasError:!1,logged:!0,isLoading:!1,loadingUser:!1,errorMessage:null});case A:return Object(mr.a)(Object(mr.a)({},e),{},{logged:!1,isLoading:!1,error:t.error,hasError:!0,loadingUser:!1,errorMessage:t.errorMessage});case G:return Object(mr.a)(Object(mr.a)({},e),{},{needToRefresh:t.value});case P:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0,loadingRefresh:!0,refreshed:!1});case B:return Object(mr.a)(Object(mr.a)({},e),{},{refreshed:!0,refreshedTokens:t.value,needToRefresh:!1,hasError:!1,isLoading:!1,loadingRefresh:!1,errorMessage:null,error:null});case F:return Object(mr.a)(Object(mr.a)({},e),{},{refreshed:!1,isLoading:!1,failedToRefresh:!0,loadingRefresh:!1,needToRefresh:!1,error:t.error,hasError:!0});case H:return Object(mr.a)(Object(mr.a)({},e),{},{changeIsLoading:!0});case W:return Object(mr.a)(Object(mr.a)({},e),{},{userInfo:t.value,changeIsLoading:!1,hasError:!1,errorMessage:null,error:null,failedToChange:!1});case z:return Object(mr.a)(Object(mr.a)({},e),{},{changeIsLoading:!1,hasError:!0,error:t.error,errorMessage:t.errorMessage,failedToChange:!0});case M:return Object(mr.a)(Object(mr.a)({},e),{},{profileReady:t.value});case Q:return Object(mr.a)(Object(mr.a)({},e),{},{error:null,hasError:!1});default:return e}},forgotRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0,sending:!0});case R:return Object(mr.a)(Object(mr.a)({},e),{},{sending:!1,sent:!0,isLoading:!1,hasError:!1,result:t.value});case T:return Object(mr.a)(Object(mr.a)({},e),{},{sent:!1,sending:!1,hasError:!0,error:t.value,isLoading:!1});case k:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!0});case L:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,result:t.value,hasError:!1,sent:!1});case w:return Object(mr.a)(Object(mr.a)({},e),{},{isLoading:!1,result:null,hasError:!0,error:t.error});case J:return Object(mr.a)(Object(mr.a)({},e),{},{hasError:!1,error:null,sent:!1});default:return e}},webSocketAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ir:return Object(mr.a)(Object(mr.a)({},e),{},{url:t.value,inProfile:t.place,isLoading:!0});case or:return Object(mr.a)(Object(mr.a)({},e),{},{connected:!0,info:t.value,isLoading:!1});case lr:return Object(mr.a)(Object(mr.a)({},e),{},{connected:!1,error:t.value,isLoading:!1});case ur:return Object(mr.a)(Object(mr.a)({},e),{},{connected:!1,info:t.value,closing:!1});case jr:return Object(mr.a)(Object(mr.a)({},e),{},{closing:!0});case dr:return Object(mr.a)(Object(mr.a)({},e),{},{data:t.value});case _r:return Object(mr.a)(Object(mr.a)({},e),{},{message:t.message});default:return e}},currentOrderDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(mr.a)(Object(mr.a)({},e),{},{number:t.number,name:t.name,status:t.status,ingredients:t.ingredients,createdAt:t.date});case Ce:return Object(mr.a)(Object(mr.a)({},e),{},{number:null,name:"",status:"",ingredients:[],createdAt:""});default:return e}}}),Pr=r(88),Br={wsInit:ir,onOpen:or,onMessage:dr,onClose:ur,onSend:_r,onError:lr,ordersInit:Te},Fr=("object"===typeof window&&Pr.composeWithDevTools?Object(Pr.composeWithDevTools)({}):Nr.compose)(Object(Nr.applyMiddleware)(Er.a,function(e){return function(t){var r=null;return function(n){return function(a){var c=t.dispatch,s=a.type,i=a.value,o=e.wsInit,l=e.onSend,u=e.onOpen,d=e.onClose,_=e.onError,j=e.onMessage,b=e.ordersInit;s===o&&(r=new WebSocket(i)),s===d&&r.close("1000","User left the page that has socket"),r&&(r.onopen=function(e){c({type:u,value:e})},r.onmessage=function(e){var t=e.data,r=JSON.parse(t);c({type:j,value:r}),c({type:b,value:r})},r.onerror=function(e){c({type:_,value:e})},r.onclose=function(e){c({type:d,value:e})},r.send=function(e){c({type:l,message:i})}),n(a)}}}}(Br))),Hr=Object(Nr.createStore)(Mr,Fr);s.a.render(Object($.jsx)(a.a.StrictMode,{children:Object($.jsx)(_.a,{store:Hr,children:Object($.jsx)(u.a,{basename:"react-burger",children:Object($.jsx)(yr,{})})})}),document.getElementById("root"))},24:function(e,t,r){e.exports={mainbox:"login_mainbox__2YpEX",header:"login_header__23luc",input:"login_input__2Ubk0",button:"login_button__BrRPY",text:"login_text__2XTxP",link:"login_link__2rv9X"}},25:function(e,t,r){e.exports={ready:"OrderNumbersStyles_ready__3HrDt",main:"OrderNumbersStyles_main__1vFni",number:"OrderNumbersStyles_number__1p9XC",table:"OrderNumbersStyles_table__2Qnor",readyNumbers:"OrderNumbersStyles_readyNumbers__XCwEU",readyHeader:"OrderNumbersStyles_readyHeader__3AMlG",inWorkTitle:"OrderNumbersStyles_inWorkTitle__2OQ9H",inWorkNumbers:"OrderNumbersStyles_inWorkNumbers__16-HF"}},28:function(e,t,r){e.exports={mainbox:"register_mainbox__1pGaq",header:"register_header__3ovOo",input:"register_input__2zb8d",button:"register_button__2lD9j",link:"register_link__1YrJJ"}},32:function(e,t,r){e.exports={mainbox:"resetPassword_mainbox__uf3jL",header:"resetPassword_header__3xGM_",input:"resetPassword_input__sEUT4",button:"resetPassword_button__ibLiJ",link:"resetPassword_link__9PfCj"}},43:function(e,t,r){e.exports={ingredient__container:"ingredient-details_ingredient__container__8HJfc",ingredient__img:"ingredient-details_ingredient__img__27Lmf",ingredient__info:"ingredient-details_ingredient__info__2yiSb",ingredient__element:"ingredient-details_ingredient__element__3G2NB",headerTextNoModal:"ingredient-details_headerTextNoModal__LPqdO",image:"ingredient-details_image__3BR2n",modalDetails:"ingredient-details_modalDetails___GSp2",modalDetailsText:"ingredient-details_modalDetailsText__3cbe-"}},44:function(e,t,r){e.exports={feed:"feedStyles_feed__23Tvl",headerText:"feedStyles_headerText__1LgRP",feedList:"feedStyles_feedList___zJcl",content:"feedStyles_content__1s7RS",mainBox:"feedStyles_mainBox__8JcW0"}},60:function(e,t,r){e.exports={modal__space:"modal_modal__space__lmCTc",modalBody:"modal_modalBody__NNPAh",modal__close_icon:"modal_modal__close_icon__8g-C1"}},61:function(e,t,r){e.exports={burgeringredients_card:"burger-ingredients-card_burgeringredients_card__36h5k",burgeringredients_card__ingredient_price:"burger-ingredients-card_burgeringredients_card__ingredient_price__1G5Iw",burgeringredients_card__ingredient_name:"burger-ingredients-card_burgeringredients_card__ingredient_name__-GGUT"}},62:function(e,t,r){e.exports={container:"app_container__3oySj",container_left:"app_container_left__2BdKF",container_right:"app_container_right__3mMa8"}},63:function(e,t,r){e.exports={mainbox:"forgotPassword_mainbox__1uB1b",link:"forgotPassword_link__1Bv41",button:"forgotPassword_button__1Ah5a"}},84:function(e,t,r){e.exports={burgeringredients__tab_selector:"burger-ingredients_burgeringredients__tab_selector__2Kr0J",burgeringredients__scroll_container:"burger-ingredients_burgeringredients__scroll_container__HfQOK"}},85:function(e,t,r){e.exports={burger_ingredients_list:"burger-ingredients-category_burger_ingredients_list__2Jwyq",link:"burger-ingredients-category_link__352RI"}},87:function(e,t,r){e.exports={box:"errorStyles_box__3CKt_",text:"errorStyles_text__3E7Gv"}}},[[234,1,2]]]);
//# sourceMappingURL=main.5f7011f4.chunk.js.map